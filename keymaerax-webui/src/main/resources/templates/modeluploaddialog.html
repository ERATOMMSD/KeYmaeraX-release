<div class="modal-body">
    <uib-tabset active="active">
        <uib-tab index="0" heading="File Upload">
            <div class="row">
            <div class="col-md-12" id="modelupload"
                 data-intro="Load new .kyx model files or .kya archive files here."
                 data-position="bottom">
                <!-- TODO https://github.com/blueimp/jQuery-File-Upload/wiki/Basic-plugin -->
                <form>
                    <label for="keyFile">Load</label>
                    <div class="fileinput fileinput-new" data-provides="fileinput">
                        <div class="input-group">
                            <div class="form-control" data-trigger="fileinput">
                                <i class="glyphicon glyphicon-file fileinput-exists"></i>
                                <span class="fileinput-filename"></span>
                            </div>
                            <span class="input-group-addon btn btn-default btn-file">
                            <span class="fileinput-new">Select file</span>
                            <span class="fileinput-exists">Change</span>
                            <input type="file" name="source" id="keyFile" class="form-control"/>
                        </span>
                            <a class="input-group-addon btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
                            <a class="input-group-addon btn btn-default fileinput-exists"
                               ng-if="fileExt=='.kya'" ng-click="addModel()" ng-cloak>Upload</a>
                        </div>
                        <div class="fileinput-exists" ng-if="fileExt=='.kyx'" ng-cloak>
                            <label for="modelName">Model name</label>
                            <div class="input-group">
                                <input type="text" ng-model="model.modelName" class="form-control" name="modelName"
                                       id="modelName" placeholder="Model Name"/>
                                <a ng-class="{'input-group-addon':true, 'btn':true, 'btn-default':true, 'disabled':!model.modelName}"
                                   ng-if="fileExt=='.kyx'" ng-click="addModel()" ng-cloak>Upload</a>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            </div>
        </uib-tab>
        <uib-tab index="1" heading="Edit">
            <form>
                <div class="row">
                    <div class="col-md-12">
                    <label for="modelName">Model name</label>
                    <div class="input-group">
                        <input type="text" ng-model="model.modelName" class="form-control" name="modelName" id="modelName"
                               placeholder="Model Name"/>
                        <a ng-class="{'input-group-addon':true, 'btn':true, 'btn-default':true, 'disabled':!model.modelName}"
                           ng-click="uploadContent()" ng-cloak>Upload</a>
                    </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <uib-tabset>
                            <uib-tab index="0" heading="Write">
                                <div class="row">
                                    <div class="col-md-12">
                                        <textarea class="k4-modeleditor" rows="20" ng-model="model.content" />
                                    </div>
                                </div>
                            </uib-tab>
                            <uib-tab index="1" heading="Preview">
                                <div hljs hljs-language="dl" style="overflow: scroll; height: 500px" hljs-source="model.content"></div>
                            </uib-tab>
                        </uib-tabset>
                    </div>
                </div>
            </form>
        </uib-tab>
        <!--<uib-tab index="2" heading="Browse Library">-->
            <!---->
        <!--</uib-tab>-->
    </uib-tabset>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" ng-click="close()">Close</button>
</div>